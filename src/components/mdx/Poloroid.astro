---
const { src, alt = "", caption = "" } = Astro.props;

// Ensure compatibility whether src is a string or a URL
const imageSrc = typeof src === "string" ? src : src.src;
---

<div class="polaroid">
  <img src={imageSrc} alt={alt} />
  {caption && <div class="caption">{caption}</div>}
</div>

<style>
  .polaroid {
  background: white;
  padding: 10px 10px 30px 10px;
  border: 3px solid black;
  border-radius: 4px;
  box-shadow:
    2px 2px 0 #000,   /* fake inked edge */
    4px 4px 0 #555,   /* hard cell shade */
    8px 8px 0 #999;   /* deeper shadow */
  display: inline-block;
  text-align: center;
  max-width: 250px;
  margin: 1rem;
  font-family: 'Architects Daughter', cursive; /* try others like 'Gloria Hallelujah', 'Patrick Hand' */
  transition: transform 0.1s ease;
  transform: rotate(-1deg); /* subtle imperfection */
}

.polaroid:hover {
  transform: rotate(1deg) scale(1.02);
}

.polaroid img {
  width: 100%;
  height: auto;
  display: block;
  border: 2px solid black;
  filter: contrast(1.1) saturate(1.2);
}

.caption {
  margin-top: 10px;
  font-size: 0.9rem;
  color: #222;
  font-style: italic;
}

</style>
